alamo.program = ductilefracture

timestep = 1e-2
stop_time = 1.e6
plot_file = tests/DuctileFracture2D/output

amr.plot_int = 1
amr.max_level = 6
#amr.n_cell = 1024 1024
amr.n_cell = 128 128
amr.blocking_factor = 8
amr.regrid_int = 10
amr.grid_eff = 1.0

amr.thermo.int = 1

geometry.prob_lo = -4 -4
geometry.prob_hi = 4 4
geometry.is_periodic= 0 0

crack.type = constant
crack.modulus_scaling_max = 0.05
crack.refinement_threshold = 0.01

crack.type = constant
crack.constant.G_c = 5.0e-2
crack.constant.zeta = 5.e-2
crack.constant.mobility = 0.0
crack.constant.eta_epsilon = 0.01
crack.constant.mult_Gc = 1.0e0
crack.constant.mult_Lap = 1.0e0
crack.constant.gtype = cubicm
crack.constant.wtype = square
crack.constant.exponent = 1.e-3
crack.constant.threshold = 1.0e0

crack.tol_crack = 1e-15
crack.tol_ep = 1e-15

#ic.type = ellipsoid
#ic.center = 2 2
##ic.A = 8.0 0.0 0.0 512.0
#ic.A = 4.0 0.0 0.0 128.0
#ic.eps = 0.05

ic.type = notch

#ic.notch.center = 0.0 -1.0 0.0 1.0
#ic.notch.orientation = 1.0 1.0 -1.0 1.0
#ic.notch.length = 0.5 0.5
#ic.notch.thickness = 0.0675 0.0675

ic.notch.center = 0.0 0.0
ic.notch.orientation = 1.0 0.0
ic.notch.length = 0.5
ic.notch.thickness = 0.03
ic.notch.eps = 0.02

crack.bc.type.xlo = NEUMANN
crack.bc.type.xhi = NEUMANN
crack.bc.type.ylo = NEUMANN
crack.bc.type.yhi = NEUMANN

crack.bc.val.xlo = 0.0 
crack.bc.val.xhi = 0.0 
crack.bc.val.ylo = 0.0 
crack.bc.val.yhi = 0.0 

crack.bc_df.type.xlo = NEUMANN NEUMANN NEUMANN NEUMANN NEUMANN NEUMANN
crack.bc_df.type.xhi = NEUMANN NEUMANN NEUMANN NEUMANN NEUMANN NEUMANN
crack.bc_df.type.ylo = NEUMANN NEUMANN NEUMANN NEUMANN NEUMANN NEUMANN
crack.bc_df.type.yhi = NEUMANN NEUMANN NEUMANN NEUMANN NEUMANN NEUMANN

crack.bc_df.val.xlo = 0.0 0.0 0.0 0.0 0.0 0.0
crack.bc_df.val.xhi = 0.0 0.0 0.0 0.0 0.0 0.0
crack.bc_df.val.ylo = 0.0 0.0 0.0 0.0 0.0 0.0
crack.bc_df.val.yhi = 0.0 0.0 0.0 0.0 0.0 0.0

material.model = isotropicj2plastic
material.isotropicj2plastic.lambda = 1e3
material.isotropicj2plastic.mu = 8e2
material.isotropicj2plastic.yield = 3.e0
material.isotropicj2plastic.hardening = 0.0
material.isotropicj2plastic.eps_critical = 1.0

#material.model = cubiccrystalplastic
#material.cubiccrystalplastic.C11 = 1.68e3
#material.cubiccrystalplastic.C12 = 1.21e3
#material.cubiccrystalplastic.C44 = 0.75e3
#material.cubiccrystalplastic.lattice = fcc
#material.cubiccrystalplastic.tcrss = 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0


elastic.bottom_solver 	=	bicgstab
elastic.composite_solve	=	1
elastic.verbose			=	2
elastic.cg_verbose 		=	0
elastic.max_iter		=	10000
elastic.max_fmg_iter 	=	10000
elastic.bottom_max_iter =	500
elastic.max_fixed_iter 	=	5000
elastic.linop_maxorder 	=	2
elastic.max_coarsening_level = 100000
elastic.agglomeration 	=	1
elastic.consolidation 	=	1
elastic.tol_rel			=	1.0e-6
elastic.tol_abs			= 	1.0e-6
elastic.cg_tol_rel 		=	1.0e-6
elastic.cg_tol_abs 		=	1.0e-6
elastic.use_fsmooth 	=	1
elastic.body_force		=	0.0 0.0 0.0

elastic.disp_step = 0.0
elastic.disp_init = 5.e-1
elastic.max_disp = 5.e-1
elastic.crackStressTest = false

elastic.bc.type.xlo = trac trac
elastic.bc.type.xhi = trac trac
elastic.bc.type.ylo = trac disp
elastic.bc.type.xloylo = trac disp
elastic.bc.type.xhiylo = trac disp

#elastic.bc.type.yhi = trac disp
#elastic.bc.type.xloyhi = trac disp
#elastic.bc.type.xhiyhi = trac disp

elastic.bc.type.yhi = trac trac
elastic.bc.type.xloyhi = trac trac
elastic.bc.type.xhiyhi = trac trac

#elastic.bc.val.xlo = 0.0 0.0
#elastic.bc.val.xhi = 0.0 0.0
